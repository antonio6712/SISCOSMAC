@using Microsoft.AspNetCore.Identity;

@if (User.Identity.IsAuthenticated != true)//si no esta autenticado 
{
    <div class="collapse navbar-collapse justify-content-start" id="nav-content">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link text-white " href="/Home/Index"><i class="fas fa-home fa-lg"> Inicio</i></a>
            </li>
            <li class="nav-item ">
                    <a class="nav-link " id="navbardrop"  asp-action="Index" asp-controller="Usuarios"  style="color:#ffffff">
                        <strong>Usuarios</strong>
                    </a>                    
                </li>
        </ul>
    </div>
    <div class="collapse navbar-collapse justify-content-end" id="nav-content">
        <ul class="navbar-nav">
            @*<li class="nav-item active">
                <a class="nav-link text-white" href="/Usuarios/Agregar" data-toggle="tooltip" data-placement="top" title="Registrar"><i class="fas fa-user-plus"></i></a>
            </li>*@
            <li class="nav-item active">
                <a class="nav-link text-white " href="/Acceso/Login" data-toggle="tooltip" data-placement="top" title="Iniciar Sesión"><i class="fas fa-user fa-lg"> Iniciar Sesión</i></a>
            </li>
        </ul>
    </div>
}
else if (User.Identity.IsAuthenticated && User.IsInRole("ADMINISTRADOR"))//si esta autenticado
{
    <div class="collapse navbar-collapse justify-content-start" id="nav-content">
        <form asp-area="" asp-controller="Acceso" asp-action="Logout" method="post" id="logoutForm">
            <ul class="navbar-nav">
                
                <li class="nav-item">
                    <a class="nav-link" asp-action="Index" asp-controller="Home" style="color:#ffffff"><i class="fas fa-home"></i></a>
                </li>               
                
                <li class="nav-item ">
                    <a class="nav-link " id="navbardrop"  asp-action="Index" asp-controller="Departamentos"  style="color:#ffffff">
                        <strong>Departamentos</strong>
                    </a>                    
                </li>
                <li class="nav-item ">
                    <a class="nav-link " id="navbardrop"  asp-action="Index" asp-controller="Usuarios"  style="color:#ffffff">
                        <strong>Usuarios</strong>
                    </a>                    
                </li>
                <li class="nav-item ">
                    <a class="nav-link " id="navbardrop"  asp-action="Index" asp-controller="SolicitudMantenimiento"  style="color:#ffffff">
                        <strong>Solicitud de Mantenimiento</strong>
                    </a>                    
                </li>
                              
                
            </ul>
        </form>
    </div>

    <div class="collapse navbar-collapse justify-content-end" id="nav-content">
        <form asp-area="" asp-controller="Acceso" asp-action="Logout" method="post" id="logoutForm">
            <ul class="navbar-nav">                              
                               
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" href="#" id="navbardrop" data-toggle="dropdown">
                        <i class="fa fa-user fa-lg" aria-hidden="true"></i> @User.Identity.Name<span class="caret"></span>
                    </a>
                    <div class="dropdown-menu">
                        @*<a class="dropdown-item" href="/Proyectos/ConsultarProyectos">Consultar lista de proyectos</a>
                        <a class="dropdown-item" href="/Usuarios/Administracion">Perfil</a>*@
                        <a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()"><i class="fa fa-sign-out-alt" aria-hidden="true"></i>  Cerrar Sesión</a>
                    </div>
                </li>
            </ul>
        </form>
    </div>

}
else
{
    <div class="collapse navbar-collapse justify-content-end" id="nav-content">
        <form asp-area="" asp-controller="Acceso" asp-action="Logout" method="post" id="logoutForm">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link text-white" href="/Proyectos/Index" data-toggle="tooltip" data-placement="top" title="Consultar proyectos">Consultar proyectos</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link text-white" href="/Proyectos/PublicarProyecto" data-toggle="tooltip" data-placement="top" title="Subir un proyecto"><i class="fas fa-globe fa-lg"></i> Subir un proyecto</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" href="#" id="navbardrop" data-toggle="dropdown">
                        <i class="fa fa-user-secret fa-lg" aria-hidden="true"></i> @User.Identity.Name<span class="caret"></span>
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/Usuarios/Administracion">Perfil</a>
                        <a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()"><i class="fa fa-sign-out-alt" aria-hidden="true"></i>  Cerrar Sesión</a>
                    </div>
                </li>
            </ul>
        </form>
    </div>
}
